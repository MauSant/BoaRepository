{
    "name": "Segurança Pública",
    "id": "public_ssp",
    "ref": "https://drive.google.com/file/d/10Qmdm2PLtZrInrNrbdNktKHTMLz8ukYX/view?usp=drive_link",
    "roles": [
        {
            "name":"Integrador",
            "id": "integrator",
            "activities":[
                {
                    "name":"1-Solicitar Inclusão na Rede de Colaboradores",
                    "id": "request_inclusion_colab_net",
                    "services": {
                        "sinesp_request_inclusion_colab_net":{
                            "name": "SINESP",
                            "metadata": {
                                "description": "Exemplo de entrada de dados de usuario",
                                "user_inputs": [
                                    {
                                        "name": "exemplo123",
                                        "description": "O name será usado como chave para acessar o valor"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/sinesp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "nomeOrganizacao": "Detran",
                                "cnpj": "12.345.678/0001-99",
                                "responsavel": "João Silva",
                                "email": "joao@segurancatotal.com",
                                "telefone": "(xx) 98xx5-xx21"
                            },
                            "output": {
                                "solicitacaoId": "SOL-20230715-001",
                                "protocolo": "PRT-20230715-78901",
                                "status": "Pendente",
                                "mensagem": "Solicitação recebida para análise"
                            }
                        }
                    }
                },
                {
                    "name":"2b-Enviar Informações Complementares",
                    "id": "sent_compl_info",
                    "services": {
                        "sinesp_sent_compl_info":{
                            "name": "SINESP",
                            "metadata": {
                                "description": "Exemplo de entrada de dados de usuario",
                                "user_inputs": [
                                    {
                                        "name": "exemplo123",
                                        "description": "O name será usado como chave para acessar o valor"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/sinesp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "nomeOrganizacao": "Detran",
                                "cnpj": "12.345.678/0001-99",
                                "responsavel": "João Silva",
                                "email": "joao@segurancatotal.com",
                                "telefone": "(xx) 98xx5-xx21"
                            },
                            "output": {
                                "solicitacaoId": "SOL-20230715-001",
                                "protocolo": "PRT-addition-20230715-10978",
                                "status": "Pendente",
                                "mensagem": "Solicitação recebida para análise"
                            }
                        }
                    }
                },
                {
                    "name":"4-Enviar Termo de Adesão Assinado",
                    "id": "sent_adhesion_sign",
                    "services": {
                        "sinesp_sent_adhesion_sign":{
                            "name": "SINESP",
                            "metadata": {
                                "description": "Exemplo de entrada de dados de usuario",
                                "user_inputs": [
                                    {
                                        "name": "exemplo123",
                                        "description": "O name será usado como chave para acessar o valor"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/sinesp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "termoAdesaoId": "FIND(action_outputs.request_adhesion_term.termoAdesaoId)",
                                "documento": "JVBERi0xLjUK... (base64)",
                                "hashAssinatura": "a1b2c3d4e5f6"
                            },
                            "output": {
                                "credencialAcesso": "CRED-INTEG-2023-555",
                                "tokenAcesso": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                                "validadeToken": "2024-07-15"
                            }
                        }
                    }
                },
                {
                    "name":"5-Solicitar Documentação de Adesão de Colaborador",
                    "id": "request_adhesion_doc_colab",
                    "services": {
                        "sinesp_request_adhesion_doc":{
                            "name": "SINESP",
                            "metadata": {
                                "description": "Exemplo de entrada de dados de usuario",
                                "user_inputs": [
                                    {
                                        "name": "exemplo123",
                                        "description": "O name será usado como chave para acessar o valor"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/sinesp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "credencialAcesso": "FIND(action_outputs.sent_adhesion_sign.credencialAcesso)",
                                "colaboradores": [
                                    {
                                    "nome": "Carlos Santos",
                                    "cpf": "123.456.789-00",
                                    "funcao": "Operador de Monitoramento"
                                    }
                                ]
                            },
                            "output": {
                                "solicitacaoColaboradorId": "SOL-COL-20230715-888",
                                "termosPendentes": [
                                    {
                                    "colaboradorId": "COL-001",
                                    "termoId": "TERMO-COL-001"
                                    }
                                ]
                            }
                        }
                    }
                },
                {
                    "name":"6-Solicitar Inclusão de Colaborador",
                    "id": "request_inclusion_colab",
                    "services": {
                        "sinesp_request_adhesion_doc_colab":{
                            "name": "SINESP",
                            "metadata": {
                                "description": "Exemplo de entrada de dados de usuario",
                                "user_inputs": [
                                    {
                                        "name": "exemplo123",
                                        "description": "O name será usado como chave para acessar o valor"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/sinesp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "credencialColaborador": "FIND(action_outputs.sent_adhesion_sign_colab.credencialColaborador)",
                                "equipamentos": [
                                    {
                                    "tipo": "Câmera IP",
                                    "modelo": "AXIS P1448-LE",
                                    "localizacao": "-23.550520, -46.633308"
                                    }
                                ]
                            },
                            "output":{
                                "colaboradorId": "COL-001",
                                "autorizacoes": ["transmissao_imagens", "alertas"],
                                "tokenDispositivo": "TOK-DEV-555-001"
                            }
                        }
                    }
                },
                {
                    "name":"8-Transmitir Imagens das Câmeras",
                    "id": "stream_cam",
                    "services": {
                        "sinesp_stream_cam":{
                            "name": "SINESP",
                            "metadata": {
                                "description": "Exemplo de entrada de dados de usuario",
                                "user_inputs": [
                                    {
                                        "name": "exemplo123",
                                        "description": "O name será usado como chave para acessar o valor"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/sinesp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "tokenDispositivo": "TOK-DEV-555-001",
                                "canalTransmissao": "FIND(action_outputs.analisys_doc_colab.canaisTransmissao)",
                                "metadados": {
                                    "timestamp": "2023-07-15T14:30:00Z",
                                    "localizacao": "-23.550520, -46.633308",
                                    "identificadorCamera": "CAM-555-01"
                                },
                                "dadosImagem": "H264_VIDEO_STREAM_DATA"
                            },
                            "output": {
                                "transmissaoId": "TRANS-20230715-999",
                                "timestampRecebimento": "2023-07-15T14:30:05Z",
                                "statusAnalise": "pendente"
                            }
                        }
                    }
                },
                {
                    "name":"8a-Enviar Informações Complementares sobre Colaborador",
                    "id": "sent_colab_info",
                    "services": {
                        "sinesp_sent_colab_info":{
                            "name": "SINESP",
                            "metadata": {
                                "description": "Exemplo de entrada de dados de usuario",
                                "user_inputs": [
                                    {
                                        "name": "exemplo123",
                                        "description": "O name será usado como chave para acessar o valor"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/sinesp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {},
                            "output": {}
                        }
                    }
                }
            ]
        },
        {
            "name":"SSP",
            "id": "ssp",
            "activities":[
                {
                    "name":"2-Analisar Documentação do Integrador",
                    "id": "analisys_doc_integrator",
                    "services": {
                        "sspba_analisys_doc_integrator":{
                            "name": "SSP-BA",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/ssp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "protocolo": "FIND(action_outputs.request_inclusion_colab_net)",
                                "aprovado": true,
                                "analista": "Maria Oliveira",
                                "observacoes": "Documentação completa e válida"
                            },
                            "output": {
                                "termoAdesaoId": "TERMO-001",
                                "codigoVerificacao": "CV-5X9P8R2T",
                                "validade": "2023-12-31",
                                "proximoPasso": "Solicitar assinatura do termo"
                            }
                        }
                    }
                },
                 {
                    "name":"2a-Solicitar Informações Complementares",
                    "id": "request_more_info",
                    "services": {
                        "sspba_request_more_info":{
                            "name": "SSP-BA",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/ssp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {},
                            "output": {}
                        }
                    }
                },
                {
                    "name":"3-Solicitar Assinatura do Termo de Adesão",
                    "id": "request_adhesion_term",
                    "services": {
                        "sspba_request_adhesion_term":{
                            "name": "SSP-BA",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/ssp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "termoAdesaoId": "FIND(action_outputs.analisys_doc_integrator.termoAdesaoId)",
                                "canalNotificacao": "email",
                                "destinatario": "joao@segurancatotal.com"
                            },
                            "output": {
                                "solicitacaoAssinaturaId": "SIG-20230715-555",
                                "linkAssinatura": "https://api.ssp.gov.br/termos/assinatura/TERMO-001",
                                "expiracao": "2023-07-22T23:59:59Z",
                                "termoAdesaoId": "FIND(termoAdesaoId)"
                            }
                        }
                    }
                },
                {
                    "name":"7-Analisar Documentação do Colaborador",
                    "id": "analisys_doc_colab",
                    "services": {
                        "sspba_analisys_doc_colab":{
                            "name": "SSP-BA",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/ssp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "colaboradorId": "FIND(action_outputs.request_inclusion_colab.colaboradorId)",
                                "aprovado": true,
                                "restricoes": [],
                                "observacoes": "Credenciamento aprovado sem ressalvas"
                            },
                            "output": {
                                "idCredencialAtiva": "CRED-ATIVA-COL-001",
                                "niveisAcesso": ["nivel3"],
                                "canaisTransmissao": ["rtsp://stream.ssp.gov.br/COL-001"]
                            }
                        }
                    }
                },
                {
                    "name":"9-Analisar Imagens de cameras",
                    "id": "analisys_cam",
                    "services": {
                        "sspba_analisys_cam":{
                            "name": "SSP-BA",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/ssp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "transmissaoId": "FIND(action_outputs.stream_cam.transmissaoId)",
                                "algoritmos": ["reconhecimento_facial", "detecao_armas"]
                            },
                            "output": {
                                "incidenteId": "INC-20230715-777",
                                "tipoIncidente": "agressao_fisica",
                                "nivelGravidade": 3,
                                "coordenadas": "-23.550520, -46.633308",
                                "timestamp": "2023-07-15T14:31:22Z"
                            }
                        }
                    }
                },
                {
                    "name":"9a-Acionar Polícia Militar",
                    "id": "call_military_police",
                    "services": {
                        "sspba_call_military_police":{
                            "name": "SSP-BA",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/ssp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "incidenteId": "FIND(action_outputs.analisys_cam.incidenteId)",
                                "prioridade": "alta",
                                "unidadesProximas": ["5º BPM", "ROTAM"],
                                "detalhes": "Dois indivíduos em confronto físico, possível arma branca"
                            },
                            "output": {
                                "protocoloOcorrencia": "OC-20230715-456",
                                "codigoVerificacao": "CV-PM-789",
                                "recursosAcionados": ["viatura_555", "suporte_tatico"]
                            }
                        }
                    }
                },
                {
                    "name":"9b-Acionar Bombeiros",
                    "id": "call_fireman",
                    "services": {
                        "sspba_call_fireman":{
                            "name": "SSP-BA",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/ssp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "incidenteId": "FIND(action_outputs.analisys_cam.incidenteId)",
                                "prioridade": "alta",
                                "unidadesProximas": ["5º BPM", "ROTAM"],
                                "detalhes": "Dois indivíduos em confronto físico, possível arma branca"
                            },
                            "output": {
                                "protocoloOcorrencia": "OC-20230715-456",
                                "codigoVerificacao": "CV-PM-789",
                                "recursosAcionados": ["viatura_555", "suporte_tatico"]
                            }
                        }
                    }
                },
                {
                    "name":"9c-Acionar Polícia Civil",
                    "id": "call_civil_police",
                    "services": {
                        "sspba_call_civil_police":{
                            "name": "SSP-BA",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/ssp/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "incidenteId": "FIND(action_outputs.analisys_cam.incidenteId)",
                                "prioridade": "alta",
                                "unidadesProximas": ["5º BPM", "ROTAM"],
                                "detalhes": "Dois indivíduos em confronto físico, possível arma branca"
                            },
                            "output": {
                                "protocoloOcorrencia": "OC-20230715-456",
                                "codigoVerificacao": "CV-PM-789",
                                "recursosAcionados": ["viatura_555", "suporte_tatico"]
                            }
                        }
                    }
                }
            ]
        },
        {
            "name":"Colaborador",
            "id": "colab",
            "activities":[
                {
                    "name":"5a-Enviar Termo de Adesão Assinado",
                    "id": "sent_adhesion_sign_colab",
                    "services": {
                        "detran_sent_adhesion_sign":{
                            "name": "Detran",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/aquirer/cielo/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "termoId": "FIND(action_outputs.request_adhesion_doc_colab.termosPendentes)",
                                "colaboradorId": "COL-001",
                                "documento": "JVBERi0xLjUK... (base64)",
                                "hashAssinatura": "x9y8z7w6v5u"
                            },
                            "output": {
                                "credencialColaborador": "CRED-COL-001",
                                "status": "Documento validado"
                            }
                        }
                      
                    }
                }
                              
            ]
        },
        {
            "name":"Polícia Militar",
            "id": "military_police",
            "activities":[
                {
                    "name":"10a-Acionar Equipe Médica",
                    "id": "request_med_team",
                    "services": {
                        "milit_police_request_med_team":{
                            "name": "Polícia Militar",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/aquirer/cielo/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "protocoloOcorrencia": "FIND(action_outputs.call_military_police.protocoloOcorrencia)",
                                "tipoAssistencia": "trauma",
                                "vitimas": 1,
                                "condicoes": "ferimento_perfurante"
                            },
                            "output": {
                                "codigoAtendimentoMedico": "SAMU-20230715-333",
                                "unidadesAcionadas": ["US-555", "SuporteAvancado"]
                            }
                        }
                      
                    }
                }
                              
            ]
        },
        {
            "name":"Polícia Civil",
            "id": "civil_police",
            "activities":[
                {
                    "name":"10c-Acionar Equipe Médica",
                    "id": "request_med_team_civil",
                    "services": {
                        "civil_police_request_med_team":{
                            "name": "Polícia Civil",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/aquirer/cielo/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                            },
                            "output": {
                            }
                        }
                      
                    }
                }
                              
            ]
        },
        {
            "name":"Corpo de Bombeiros",
            "id": "firedepartment",
            "activities":[
                {
                    "name":"10b-Acionar Equipe Médica",
                    "id": "request_med_team_civil",
                    "services": {
                        "firedepartment_request_med":{
                            "name": "Corpo de Bombeiros",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/aquirer/cielo/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                            },
                            "output": {
                            }
                        }
                      
                    }
                }
                              
            ]
        },
        {
            "name":"SAMU",
            "id": "samu",
            "activities":[
                {
                    "name":"11-Acionar Hospital",
                    "id": "request_hospital",
                    "services": {
                        "samu_request_hospital":{
                            "name": "SAMU",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/aquirer/cielo/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "codigoAtendimentoMedico": "FIND(action_outputs.request_med_team.codigoAtendimentoMedico)",
                                "hospitalDestino": "HOSPITAL_CENTRAL",
                                "dadosPaciente": {
                                    "condicao": "estavel",
                                    "procedimentosRealizados": ["curativo_compressivo"]
                                }
                            },
                            "output": {
                                "protocoloHospitalar": "HOSP-20230715-222",
                                "leitoDestino": "Emergência 05",
                                "medicoResponsavel": "Dr. Silva"
                            }
                        }
                      
                    }
                }
                              
            ]
        },
        {
            "name":"Hospital",
            "id": "hospital",
            "activities":[
                {
                    "name":"12-Enviar Resposta",
                    "id": "hospital_response",
                    "services": {
                        "cielo_validate_payment":{
                            "name": "Hospital",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/aquirer/cielo/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "protocoloHospitalar": "FIND(action_outputs.request_hospital.protocoloHospitalar)",
                                "diagnostico": "Ferimento perfurante superficial",
                                "procedimentos": ["sutura", "medicação"],
                                "estadoPaciente": "estavel"
                            },
                            "output": {
                                "encerramentoOcorrencia": "OC-20230715-456",
                                "codigoFinalizacao": "FIM-20230715-001",
                                "relatorioConsolidado": "https://api.hospitalcentral.gov.br/relatorios/HOSP-20230715-222"
                            }
                        }
                      
                    }
                }
                              
            ]
        }
    ]

}