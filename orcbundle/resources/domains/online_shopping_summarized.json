{
    "name": "Online Shopping",
    "id": "online_shopping_summerized",
    "roles": [
        {
            "name":"Loja Virtual",
            "id": "virtual_store",
            "activities":[
                {
                    "name":"1-Processamento do pagamento pela Loja virtual",
                    "id": "process_payment_data",
                    "services": {
                        "cea_process_payment_data":{
                            "name": "C & A",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/cea/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "pedido_id": "ORD-12345",
                                "valor_total": 1500.00,
                                "itens": [
                                    {"produto_id": "PROD-001", "quantidade": 2}
                                ],
                                "cliente": {
                                    "id": "CLI-7788",
                                    "email": "cliente@exemplo.com"
                                },
                                "cartao": {
                                    "numero": "**** **** **** 1234",
                                    "validade": "12/2025"
                                }
                            },
                            "output": {}
                        },
                        "riachuelo_process_payment_data":{
                            "name": "Riachuelo",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/riachuelo/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "pedido_id": "ORD-12345",
                                "valor_total": 1500.00,
                                "itens": [
                                    {"produto_id": "PROD-001", "quantidade": 2}
                                ],
                                "cliente": {
                                    "id": "CLI-7788",
                                    "email": "cliente@exemplo.com"
                                },
                                "cartao": {
                                    "numero": "**** **** **** 1234",
                                    "validade": "12/2025"
                                }
                            },
                            "output": {}
                        }
                    }
                },
                {
                    "name":"8- Realizar entrega pela Loja Online",
                    "id": "delivery_product",
                    "services": {
                        "cea_delivery_product":{
                            "name": "C & A",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/cea/delivery_product",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "pedido_id": "ORD-12345",
                                "id_gateway": "GW-TXN-1122",
                                "endereco_entrega": {
                                    "cep": "22000-000",
                                    "logradouro": "Rua Exemplo, 123"
                                },
                                "itens": [
                                    {"produto_id": "PROD-001", "quantidade": 2}
                                ]
                            },
                            "output": {}
                        },
                        "riachuelo_delivery_product":{
                            "name": "Riachuelo",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/virtual_store/riachuelo/delivery_product",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "pedido_id": "ORD-12345",
                                "id_gateway": "GW-TXN-1122",
                                "endereco_entrega": {
                                    "cep": "22000-000",
                                    "logradouro": "Rua Exemplo, 123"
                                },
                                "itens": [
                                    {"produto_id": "PROD-001", "quantidade": 2}
                                ]
                            },
                            "output": {}
                        }
                    }
                }
              
            ]
        },
        {
            "name":"Gateway de Pagamento",
            "id": "payment_gateway",
            "activities":[
                {
                    "name":"2- Processamento do Pagamento pelo gateway",
                    "id": "gateway_processing",
                    "services": {
                        "paypal_gateway_processing":{
                            "name": "PAYPAL",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/paypal/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "gateway_request_id": "GW-paypal-20230617",
                                "transacao_id": "FIND(action_outputs.cea_process_payment_data.transacao_id)",
                                "valor": 1500.00,
                                "cartao_token": "FIND(action_outputs.cea_process_payment_data.cartao_token)",
                                "parcelas": 3
                            },
                            "output": {}
                        },
                        "pagarme_gateway_processing":{
                            "name": "Pagar.me",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/gateway_payment/pagarme/process_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "gateway_request_id": "GW-pagarme-20230617",
                                "transacao_id": "FIND(action_outputs.cea_process_payment_data.transacao_id)",
                                "valor": 1500.00,
                                "cartao_token": "FIND(action_outputs.cea_process_payment_data.cartao_token)",
                                "parcelas": 3
                            },
                            "output": {}
                        }
                    }
                },
                {
                    "name":"6- Analise do Pagamento pelo Gateway",
                    "id": "gateway_analysis",
                    "services": {
                        "gateway_analysis_paypal":{
                            "name": "PAYPAL",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "CONCAT(https://jsonplaceholder.typicode.com/posts/, FIND(user_input.gateway_analysis_paypal.id))",
                            "http_method": "GET",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {},
                            "output": {}
                        },
                        "gateway_analysis_pagarme":{
                            "name": "Pagar.me",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "CONCAT(https://jsonplaceholder.typicode.com/posts/, FIND(user_input.gateway_analysis_pagarme.id))",
                            "http_method": "GET",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {},
                            "output": {}
                        }
                    }
                }
               
            ]
        },
        {
            "name":"Adquirente",
            "id": "acquirer",
            "activities":[
                {
                    "name":"3- Validação do Pagamento Pelo Adquirente",
                    "id": "validate_payment",
                    "services": {
                        "cielo_validate_payment":{
                            "name": "CIELO",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/aquirer/cielo/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "requisicao_adquirente": "ADQ-REQ-4455",
                                "id_gateway": "FIND(action_outputs.paypal_gateway_processing.id_gateway)",
                                "valor": 1500.00
                            },
                            "output": {}
                        },
                        "stone_validate_payment":{
                            "name": "STONE",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/aquirer/stone/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "requisicao_adquirente": "ADQ-REQ-4455",
                                "id_gateway": "FIND(action_outputs.paypal_gateway_processing.id_gateway)",
                                "valor": 1500.00
                            },
                            "output": {}
                        }
                    }
                }
                              
            ]
        },
        {
            "name":"Antifraude",
            "id": "anti_fraud",
            "activities":[
                {
                    "name":"7- Analise do pagamento pelo antifraude",
                    "id": "payment_analysis_antifraud",
                    "services": {
                        "rudder_payment_analisys_antifraud":{
                            "name": "RUDDER",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "CONCAT(https://jsonplaceholder.typicode.com/posts/, FIND(user_input.rudder_payment_analisys_antifraud.id))",
                            "http_method": "GET",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {},
                            "output": {}
                        },
                        "netrin_payment_analisys_antifraud":{
                            "name": "NETRIN",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "CONCAT(https://jsonplaceholder.typicode.com/posts/, FIND(user_input.netrin_payment_analisys_antifraud.id))",
                            "http_method": "GET",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {},
                            "output": {}
                        }
                    }
                }
               
                
            ]
        },
        {
            "name":"Bandeira",
            "id": "flag",
            "activities":[
                {
                    "name":"4- Validação do Pagamento pela bandeira",
                    "id": "flag_alalysis",
                    "services": {
                        "visa_flag_alalysis":{
                            "name": "VISA",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/flag/visa/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "requisicao_bandeira": "BAND-REQ-6677",
                                "codigo_autorizacao": "FIND(action_outputs.cielo_validate_payment.autorizacao_adq)",
                                "dados_cartao": "TOKEN-CC-5566"
                            },
                            "output": {}
                        },
                        "mastercard_flag_alalysis":{
                            "name": "MASTERCARD",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/flag/mastercard/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json":{
                                "requisicao_bandeira": "BAND-REQ-6677",
                                "codigo_autorizacao": "FIND(action_outputs.cielo_validate_payment.autorizacao_adq)",
                                "dados_cartao": "TOKEN-CC-5566"
                            },
                            "output": {}
                        }
                    }
                }
                
                
            ]
        },
        {
            "name":"Emissor",
            "id": "issuing",
            "activities":[
                {
                    "name":"5- validação do pagamento pelo Emissor",
                    "id": "issuing_validation_",
                    "services": {
                        "issuing_validation__Bradesco":{
                            "name": "BRADESCO",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/issuing/bradesco/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "requisicao_emissor": "EMI-REQ-9911",
                                "autorizacao_bandeira": "FIND(action_outputs.visa_flag_alalysis.autorizacao_bandeira)",
                                "valor_parcela": 500.00
                            },
                            "output": {}
                        },
                        "issuing_validation_santander":{
                            "name": "SANTANDER",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "http://localhost:8003/issuing/santander/validate_payment",
                            "http_method": "POST",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {
                                "requisicao_emissor": "EMI-REQ-9911",
                                "autorizacao_bandeira": "FIND(action_outputs.visa_flag_alalysis.autorizacao_bandeira)",
                                "valor_parcela": 500.00
                            },
                            "output": {}
                        }
                    }
                }
            ]
        },
        {
            "name":"Transportadora",
            "id": "transporter",
            "activities":[
                {
                    "name":"9- Realizar Entrega pela transportadora",
                    "id": "receive_data_payment_fromvalidationt",
                    "services": {
                        "delivery_item_correios":{
                            "name": "CORREIOS",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "CONCAT(https://jsonplaceholder.typicode.com/posts/, FIND(user_input.delivery_item_correios.id))",
                            "http_method": "GET",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {},
                            "output": {}
                        },
                        "delivery_item_loggi":{
                            "name": "LOGGI",
                            "metadata": {
                                "description": "Checa o credito de um Usuario",
                                "user_inputs": [
                                    {
                                        "name": "id",
                                        "description": "Id do usuario que se deseja verificar credito"
                                    }
                                ]
                            },
                            "action_type": "HTTP",
                            "url": "CONCAT(https://jsonplaceholder.typicode.com/posts/, FIND(user_input.delivery_item_loggi.id))",
                            "http_method": "GET",
                            "mock": {},
                            "headers": {},
                            "query": {},
                            "form_data": {},
                            "json": {},
                            "output": {}
                        }
                    }
                }
             
                
            ]
        }
    ]

}